<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MG] (proposal) Plug-in framework design
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:start%40metagovernment.org?Subject=Re%3A%20%5BMG%5D%20%28proposal%29%20Plug-in%20framework%20design&In-Reply-To=%3C50B36405.5010905%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013993.html">
   <LINK REL="Next"  HREF="013996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MG] (proposal) Plug-in framework design</H1>
    <B>Thomas von der Elbe</B> 
    <A HREF="mailto:start%40metagovernment.org?Subject=Re%3A%20%5BMG%5D%20%28proposal%29%20Plug-in%20framework%20design&In-Reply-To=%3C50B36405.5010905%40gmx.de%3E"
       TITLE="[MG] (proposal) Plug-in framework design">ThomasvonderElbe at gmx.de
       </A><BR>
    <I>Mon Nov 26 07:43:49 EST 2012</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="013993.html">[MG] (proposal) Plug-in framework design
</A></li>
        <LI>Next message (by thread): <A HREF="013996.html">[MG] (proposal) Plug-in framework design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html">[ date ]</a>
              <a href="thread.html">[ thread ]</a>
              <a href="subject.html">[ subject ]</a>
              <a href="author.html">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wow, the switch came fast! I like it!

A possible bug: if I switch back and forth between the options, the 
vote-track-appearance breaks now and then in my firefox. I send you a 
screen-picture.

Thomas



On Sun, 25 Nov 2012 23:02, Michael Allan wrote:
&gt;<i> A tentative prototype of the plug-in framework is coded and deployed
</I>&gt;<i> for MediaWiki: <A HREF="http://metagovernment.org/wiki/">http://metagovernment.org/wiki/</A>
</I>&gt;<i>
</I>&gt;<i> WALK THROUGH
</I>&gt;<i>
</I>&gt;<i>     1. Hover the mouse over the small triangle in the top right corner
</I>&gt;<i>        of the page, then click.
</I>&gt;<i>
</I>&gt;<i>        The toolset switch appears.  It looks like this:
</I>&gt;<i>
</I>&gt;<i>             0. Off
</I>&gt;<i>             1. Introduction
</I>&gt;<i>           &gt; 2. Votorola
</I>&gt;<i>
</I>&gt;<i>                     (close)
</I>&gt;<i>
</I>&gt;<i>        Note: tested only on Firefox and Chrome.  Currently disabled and
</I>&gt;<i>        invisible on IE.
</I>&gt;<i>
</I>&gt;<i>     2. Click &quot;Off&quot;.
</I>&gt;<i>
</I>&gt;<i>        The page reloads without a toolset.  Votorola is gone.  The
</I>&gt;<i>        switch remains visible:
</I>&gt;<i>
</I>&gt;<i>           &gt; 0. Off
</I>&gt;<i>             1. Introduction
</I>&gt;<i>             2. Votorola
</I>&gt;<i>
</I>&gt;<i>                     (close)
</I>&gt;<i>
</I>&gt;<i>     3. Click &quot;Introduction&quot;.
</I>&gt;<i>
</I>&gt;<i>        The page reloads with the introductory &quot;toolset&quot;.
</I>&gt;<i>
</I>&gt;<i>             0. Off
</I>&gt;<i>           &gt; 1. Introduction
</I>&gt;<i>             2. Votorola
</I>&gt;<i>
</I>&gt;<i>                     (close)
</I>&gt;<i>
</I>&gt;<i>     4. Click &quot;close&quot; to dismiss the switch.
</I>&gt;<i>
</I>&gt;<i>     5. Navigate around the wiki.  Note that the chosen toolset is now
</I>&gt;<i>        visible on every page.
</I>&gt;<i>
</I>&gt;<i>        Please report any problems you see.
</I>&gt;<i>
</I>&gt;<i> SCOPE
</I>&gt;<i>
</I>&gt;<i>     This is a prototype of the underlying switch mechanism.  The switch
</I>&gt;<i>     view and the introductory toolset are only placeholders.  Therefore
</I>&gt;<i>     the introductory toolset is not yet set as the default. (It's too
</I>&gt;<i>     ugly.)
</I>&gt;<i>
</I>&gt;<i> DEPLOYMENT
</I>&gt;<i>
</I>&gt;<i>     General:    <A HREF="http://metagovernment.tuxfamily.org/plug/">http://metagovernment.tuxfamily.org/plug/</A>
</I>&gt;<i>     Mediawiki:  <A HREF="http://metagovernment.org/wiki/MediaWiki:Common.js">http://metagovernment.org/wiki/MediaWiki:Common.js</A>
</I>&gt;<i>                 (blanking this page will disable the framework)
</I>&gt;<i>
</I>&gt;<i> SOURCE CODE
</I>&gt;<i>
</I>&gt;<i>     The source has no home on Metagov yet.  Meantime:
</I>&gt;<i>
</I>&gt;<i>        My working copy: <A HREF="http://zelea.com/project/metagov/">http://zelea.com/project/metagov/</A>
</I>&gt;<i>        My repository:   <A HREF="http://zelea.com/var/db/repo/metagov/">http://zelea.com/var/db/repo/metagov/</A>
</I>&gt;<i>
</I>&gt;<i> ACKNOWLEDGMENT
</I>&gt;<i>
</I>&gt;<i>     Thomas von der Elbe is acknowledged in the code:
</I>&gt;<i>     <A HREF="http://zelea.com/var/db/repo/metagov/file/605d1ccd620e/plug.js">http://zelea.com/var/db/repo/metagov/file/605d1ccd620e/plug.js</A>
</I>&gt;<i>     He proposed a somewhat similar device in 2009: (item 6)
</I>&gt;<i>     <A HREF="http://mail.zelea.com/list/votorola/2009-December/000215.html">http://mail.zelea.com/list/votorola/2009-December/000215.html</A>
</I>&gt;<i>
</I>&gt;<i> FUTURE WORK
</I>&gt;<i>
</I>&gt;<i>     The design is still open.  If we learn of a better design, we can
</I>&gt;<i>     discard this prototype and code another.
</I>&gt;<i>
</I>&gt;<i>     Meantime, we still need to complete step (b).
</I>&gt;<i>     <A HREF="http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005130.html">http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005130.html</A>
</I>&gt;<i>     That probably means designing a banner for the introductory
</I>&gt;<i>     toolset.  We thought of inviting the user to operate the switch:
</I>&gt;<i>     <A HREF="http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005177.html">http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005177.html</A>
</I>&gt;<i>     Maybe also invite new toolsets and other communities:
</I>&gt;<i>     <A HREF="http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005181.html">http://metagovernment.org/pipermail/start_metagovernment.org/2012-November/005181.html</A>
</I>&gt;<i>
</I>&gt;<i>     But how exactly?  Does anyone know?  Or does anyone have
</I>&gt;<i>     alternative ideas for the introductory toolset?
</I>&gt;<i>
</I>&gt;<i> Mike
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Michael Allan said:
</I>&gt;&gt;<i> This is a design proposal for a prototype of the plug-in framework.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Name     Metagovernment plug-in framework
</I>&gt;&gt;<i>      Trunk    <A HREF="http://hg.tuxfamily.org/metagov/plug/">http://hg.tuxfamily.org/metagov/plug/</A>  (to be created)
</I>&gt;&gt;<i>      License  MIT
</I>&gt;&gt;<i>      Stage    Prototype, might be throw-away
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Runtime components
</I>&gt;&gt;<i> ------------------
</I>&gt;&gt;<i> The framework is composed of JavaScript that is loaded into the page
</I>&gt;&gt;<i> being viewed by the user.  It is initially coded as plain JavaScript,
</I>&gt;&gt;<i> without commiting to a platform such as jQuery or GWT (so keeping it
</I>&gt;&gt;<i> as open as possible to new developers).  The main components are:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Introductory toolset
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          A toolset that introduces the framework.  This is the default.
</I>&gt;&gt;<i>          Its implementation has yet to be agreed.  Meantime it will
</I>&gt;&gt;<i>          render as a banner that is empty of content except for a
</I>&gt;&gt;<i>          switch view.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Switch
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          Mechanism for setting the toolset as preferred by the user.
</I>&gt;&gt;<i>          The switch state is backed by the browser's HTML5 local store.
</I>&gt;&gt;<i>          If the browser has none, then the switch is disabled and
</I>&gt;&gt;<i>          locked in the default position (introductory toolset).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Switch view
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          The user interface of the switch.  It will probably look like
</I>&gt;&gt;<i>          this initially, at least till we can mock up and agree on
</I>&gt;&gt;<i>          something nicer:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              0. Off
</I>&gt;&gt;<i>            * 1. Introduction
</I>&gt;&gt;<i>              2. Votorola
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                      (close)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          The user clicks to choose.  The &quot;off&quot; choice is temporarily
</I>&gt;&gt;<i>          disabled (greyed out) pending demand.  The &quot;close&quot; link only
</I>&gt;&gt;<i>          appears when the user has explicitly summoned the view, not
</I>&gt;&gt;<i>          when the view is incorporated in the introductory toolset.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Configuration
</I>&gt;&gt;<i> -------------
</I>&gt;&gt;<i> The configuration is mostly in the wiki.  It consists of:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Toolset category
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          Category page, to which all toolset pages belong.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Toolset page
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          One for each toolset.  It records the following information
</I>&gt;&gt;<i>          which (for now) is manually transcribed into the switch code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              title - informal name shown on switch view
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              wikiLauncher - URL of script for launching the toolset in
</I>&gt;&gt;<i>                 the context of a wiki page.  (there'll be other
</I>&gt;&gt;<i>                 contexts later)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Toolset registry
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          Page listing toolsets by page name.  It is manually
</I>&gt;&gt;<i>          transcribed into the switch code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Functions
</I>&gt;&gt;<i> ---------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Launch
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          The toolset launcher is executed at load time before the parse
</I>&gt;&gt;<i>          of the document is complete.  The steps are:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              1. Read switch, yielding chosen toolset.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              2. Write script element for toolset launcher.  It may be
</I>&gt;&gt;<i>                 written to the head or body (indefinite).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Switch
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          If the switch is not visible, then the user must summon it.
</I>&gt;&gt;<i>          In Votorola this will entail hovering the mouse at top right
</I>&gt;&gt;<i>          of the link track (over a small triangle) to expose a button,
</I>&gt;&gt;<i>          then clicking on the button to display the switch.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          For newcomers, the switch will normally be visible as part of
</I>&gt;&gt;<i>          the introductory &quot;toolset&quot;.  When the switch is visible:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              1. Receive user's click on chosen toolset.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              2. Set switch state accordingly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              3. Reload page, launching chosen toolset.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              4. Ensure the switch view is shown again in the same
</I>&gt;&gt;<i>                 location.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          The user may continue switching, or move on to other things.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comments
</I>&gt;&gt;<i> --------
</I>&gt;&gt;<i> In plain JavaScript it'll be a little slower to code.  Still not more
</I>&gt;&gt;<i> than 10 man days for the first cut, or (for me) 30 calendar days.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can anyone foresee problems?  Or would anyone else like to code it?
</I>&gt;&gt;<i> If not, then I can probably start on it myself in a few days.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Michael Allan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Toronto, +1 416-699-9528
</I>&gt;&gt;<i> <A HREF="http://zelea.com/">http://zelea.com/</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Start : a mailing list of the Metagovernment project
</I>&gt;<i> <A HREF="http://www.metagovernment.org/">http://www.metagovernment.org/</A>
</I>&gt;<i> Post to the list: <A HREF="http://metagovernment.org/mailman/listinfo/start_metagovernment.org">Start at metagovernment.org</A>
</I>&gt;<i> Manage subscription: <A HREF="http://metagovernment.org/mailman/listinfo/start_metagovernment.org">http://metagovernment.org/mailman/listinfo/start_metagovernment.org</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="013993.html">[MG] (proposal) Plug-in framework design
</A></li>
	<LI>Next message (by thread): <A HREF="013996.html">[MG] (proposal) Plug-in framework design
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html">[ date ]</a>
              <a href="thread.html">[ thread ]</a>
              <a href="subject.html">[ subject ]</a>
              <a href="author.html">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://metagovernment.org/mailman/listinfo/start_metagovernment.org">More information about the Start
mailing list</a><br>
</body></html>
